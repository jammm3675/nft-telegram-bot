# Инструкция по развертыванию Telegram-бота на Render

Это руководство поможет вам развернуть и настроить вашего Telegram-бота для шаринга NFT на платформе Render.

## Шаг 1: Создание Telegram-бота и получение токена

1.  **Найдите BotFather в Telegram:**
    *   Откройте Telegram и в поиске введите `@BotFather`.
    *   Начните с ним диалог, нажав кнопку "Start".

2.  **Создайте нового бота:**
    *   Отправьте команду `/newbot`.
    *   BotFather попросит вас придумать имя для бота (например, `TON NFT Share Bot`).
    *   Затем придумайте уникальный `username` для бота, который должен заканчиваться на `bot` (например, `TonNftShareBot`).

3.  **Сохраните токен:**
    *   После успешного создания бота BotFather пришлет вам **токен**. Это длинная строка символов. **Скопируйте и сохраните ее в надежном месте.** Он понадобится нам для настройки на Render.

4.  **Настройте инлайн-режим (опционально, но рекомендуется):**
    *   Отправьте BotFather команду `/mybots`.
    *   Выберите вашего бота, затем `Bot Settings` -> `Inline Mode`.
    *   Нажмите `Turn on`. Это позволит боту работать в любом чате.

## Шаг 2: Получение токена TON API

1.  **Перейдите на сайт tonapi.io:**
    *   Откройте в браузере [tonapi.io](https://tonapi.io/).
2.  **Авторизуйтесь и получите токен:**
    *   Войдите в систему (например, через Telegram или GitHub).
    *   В вашем профиле найдите раздел API-ключей и сгенерируйте новый токен.
    *   **Скопируйте и сохраните этот токен.** Он также понадобится для настройки.

## Шаг 3: Настройка базы данных на Render

1.  **Зарегистрируйтесь на Render:**
    *   Если у вас еще нет аккаунта, зарегистрируйтесь на [render.com](https://render.com/).

2.  **Создайте новую базу данных:**
    *   В панели управления (Dashboard) нажмите `New +` -> `PostgreSQL`.
    *   Придумайте имя для вашей базы данных (например, `nft-bot-db`).
    *   Выберите регион, который ближе к вам.
    *   Нажмите `Create Database`. Создание может занять несколько минут.

3.  **Скопируйте Internal Database URL:**
    *   После создания базы данных перейдите в ее настройки.
    *   Найдите раздел `Connections` и скопируйте **`Internal Database URL`**. Сохраните эту ссылку.

## Шаг 4: Развертывание бота на Render

1.  **Создайте новый Web Service:**
    *   Вернитесь в панель управления и нажмите `New +` -> `Web Service`.

2.  **Подключите ваш репозиторий:**
    *   Выберите `Build and deploy from a Git repository`.
    *   Подключите ваш GitHub-аккаунт и выберите репозиторий с кодом бота.

3.  **Настройте параметры сервиса:**
    *   **Name:** Придумайте имя для вашего сервиса (например, `ton-nft-bot`).
    *   **Region:** Выберите тот же регион, что и для базы данных.
    *   **Branch:** Убедитесь, что выбрана основная ветка (например, `main` или `master`).
    *   **Runtime:** Render должен автоматически определить, что это Python-проект.
    *   **Build Command:** `pip install -r requirements.txt`
    *   **Start Command:** `python main.py`

4.  **Добавьте переменные окружения:**
    *   Перейдите в раздел `Environment` и нажмите `Add Environment Variable`.
    *   Добавьте следующие переменные:

| Ключ                  | Значение                                                              |
| --------------------- | --------------------------------------------------------------------- |
| `TELEGRAM_BOT_TOKEN`  | Ваш токен, полученный от BotFather (из Шага 1).                       |
| `DATABASE_URL`        | `Internal Database URL`, который вы скопировали (из Шага 3).          |
| `TONAPI_TOKEN`        | Ваш токен от `tonapi.io` (из Шага 2).                                 |
| `PYTHON_VERSION`      | `3.10.6` (или другая совместимая версия)                               |
| `PORT`                | `8080` (это порт для keep-alive механизма)                             |

5.  **Запустите развертывание:**
    *   Нажмите `Create Web Service`.
    *   Render начнет процесс сборки и развертывания вашего бота. Вы можете следить за логами в разделе `Logs`.

## Готово!

После успешного развертывания ваш бот будет запущен и готов к работе. Вы можете найти его в Telegram по `username` и начать использовать. Keep-alive механизм будет автоматически поддерживать его в активном состоянии.
